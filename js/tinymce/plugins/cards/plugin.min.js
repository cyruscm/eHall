tinymce.PluginManager.add('cards', function(editor, url) {
    // Add a button that opens a window
	editor.addButton('cards', {
		text: 'Card',
		icon: false,
		onclick: function() {
			// Open window
			editor.windowManager.open({
				title: 'Card Size',
				body: [          
					{type: 'combobox', name: 's', label: 'Mobile Size', value: 's12', values : [
                        { text: '12', value: 's12'},
                        { text: '6', value: 's6' },
                        { text: '4', value: 's4' },
                        { text: '3', value: 's3' }
                    ]
          },
          {type: 'combobox', name: 'm', label: 'Tablet/Laptop Size', value: 'm12', values : [
                        { text: '12', value: 'm12' },
                        { text: '6', value: 'm6' },
                        { text: '4', value: 'm4' },
                        { text: '3', value: 'm3' }
                    ]
          },
          {type: 'combobox', name: 'l', label: 'Desktop Size', value: 'l12', values : [
                        { text: '12', value: 'l12' },
                        { text: '6', value: 'l6' },
                        { text: '4', value: 'l4' },
                        { text: '3', value: 'l3' }
                    ]
          },
          {type   : 'container', name   : 'container', label  : '', html   : 
          'The values represent their size on a 12-wide grid,<br />it is suggested to always have mobile be 12.<br / >You can read more on grids <b><i><a href="http://materializecss.com/grid.html" target="_blank">here</a></i></b>'
                },
           {type   : 'colorpicker', name   : 'color', label  : 'Card Color', value: "#039be5" },
				],
				onsubmit: function(e) {
					// Insert content when the window form is submitted
					editor.insertContent('  <div class="col '+e.data.s+' '+e.data.m+' '+e.data.l+'">' +	
									'   <div class="card" style="background-color: '+e.data.color+'">' +
									'		  <div class="card-content white-text">' +
									'				<center><span class="card-title">Title</span></center>' +
									'				<p>Content</p>'+
									'			</div>' +
									'		</div>' +
									'	</div>');
				}
			});
		}
	});
  
  editor.addButton('video', {
		text: 'Video',
		icon: false,
		onclick: function() {
			// Open window
			editor.windowManager.open({
				title: 'Video Embed',
				body: [          
					      {type   : 'textbox', name   : 'youtubeurl', label  : 'Youtube ID', tooltip: 'get v= variable from youtube. eg: https://www.youtube.com/watch?v=Q8TXgCzxEnw would be Q8TXgCzxEnw' },
                {type   : 'textbox', name   : 'vimeourl', label  : 'Vimeo ID', tooltip: 'id from vimeo url. eg: https://vimeo.com/107457314 would be 107457314' },
                {type   : 'textbox', name   : 'rawurl', label  : 'Raw Video Url', tooltip: 'url to video, has to be the raw video, eg: http://www.page.com/video.mp4' }

				],
				onsubmit: function(e) {
          if (e.data.youtubeurl!=""){
            editor.insertContent('<div class="video-container no-controls">' +
                                 '  <iframe width="853" height="480" src="//www.youtube.com/embed/'+e.data.youtubeurl+'?rel=0;autohide=1" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'+
                                 '</div>');
          }
          if (e.data.vimeourl!=""){
            editor.insertContent('<div class="video-container no-controls">' +
                                 '  <iframe width="853" height="480" src="https://player.vimeo.com/video/'+e.data.vimeourl+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'+
                                 '</div>');                                 
          }
          if (e.data.rawurl!=""){
            editor.insertContent('<video width="100%" controls>' +
                                 '  <source src="'+e.data.rawurl+'" type="video/mp4">' +
                                 '</video>');                                 
          }
          
				}
			});
		}
	});
  
   
    editor.addButton('image', {
		text: 'Embed',
		icon: 'image',
		onclick: function() {
			// Open window
			editor.windowManager.open({
				title: 'Image Embed',
				body: [          
					      {type   : 'textbox', name  : 'img', label  : 'Image URL', tooltip: 'Use the direct link (ending with something like .png/.jpg)'}],
				onsubmit: function(e) {
            editor.insertContent('<img class="responsive-img" src="'+e.data.img+'">');               
        }
			});
		}
	});
  
    editor.addButton('addrow', {
		text: 'Row',
		icon: false,
    tooltip: "Force items to stay in a row, Highly suggested",
		onclick: function() {
            editor.insertContent('<div class="row"></div><br>'); 
            editor.selection.setCursorLocation(ed.getBody().firstChild);

		}
	});
  

  	editor.addMenuItem('note', {
		text: 'Note',
		icon : 'code',
		context: 'file',
		onclick: function() {
    			editor.windowManager.open({
				title: 'Card Size',
				body: [          
          {type   : 'container', name   : 'container', label  : '', html   : 
          '<p>This is a vital page for allowing teachers to create content, <br>if it is lacking in any features that you feel are neccesary to<br>present the needed information for your class, please do not<br>hesitate to inform Dr. S or contact me personally at <i><a href="mailto:corbinsmartin@gmail.com">corbinsmartin@gmail.com</a></i></p>'
                },
				],
			});
    }});
  
});

                
									